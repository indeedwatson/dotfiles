#!/bin/bash
# shortcuts for livestreamer channels and quality

twitch=http://www.twitch.tv/

# alias most watched channels
case "$1" in
    santzo) channel=santzo84;;
    ohn) channel=outerheaven;;
    prec) channel=previouslyrecorded_live;;
    tftv) channel=teamfortresstv;;
    dist) channel=distortion2;;
    gdq) channel=gamesdonequick;;
    $1) channel=$1;;
esac

# get quality, best by default
case "${2:-b}" in
    b*) quality=best;;
    l*) quality=low;;
    m*) quality=medium;;
    *)
        # print error if not one of the above quality
        printf '%s: unkown quality option: %s (one of [l]ow,
        [m]edium, [b]est)'"$0" "$2" >&2
        exit 1
        ;;
esac

# exit if no channel was given
if [ -z $channel ]; then
    exit
fi

# exec livestreamer
# to use with iGPU and dri
# DRI_PRIME=1 VDPAU_DRIVER=radeonsi streamlink $twitch$channel $quality &
streamlink $twitch$channel $quality &
# twitch chat in popout mode
# firefox-nightly --new-window $twitch$channel/chat?popout= &
